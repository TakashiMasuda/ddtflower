<!DOCTYPE html>
<html>
<head>
<!-- 画面の幅を使用している端末に依存する。加えてズームを許可しない。 -->
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=yes">
<meta charset="UTF-8">
<title>DDTFlowers</title>
<!-- メインのCSSファイルを読み込む。 -->
<link href="css/style.css" rel="stylesheet" type="text/css">
<!-- 会員ページのcssを読み込む -->
<link href="css/memberPage.css" rel="stylesheet" type="text/css">
<!-- カレンダーのために体験ページのCSSファイルを読み込む。 -->
<link href="css/experience.css" rel="stylesheet" type="text/css">
<!-- jqueryUIのcssを読み込む -->
<link rel="stylesheet" type="text/css" href="css/jquery-ui-1.10.4.custom.min.css" media="screen" />
<!-- jQueryの本体を読み込む。 -->
<script src="js/jquery-1.11.0.min.js"></script>
<!-- jQueryUIを読み込む。 -->
<script type="text/javascript" src="js/jquery-ui-1.9.2.custom.min.js"></script>
<!-- タグを作成するJSの関数群を読み込む -->
<script type="text/javascript" src="js/createTag.js"></script>
<!-- easytabsの本体を読み込む。 -->
<script type="text/javascript" src="js/jquery.easytabs.js"></script>
<!-- 入力チェック機能のjQueryプラグイン -->
<script src="js/jquery.validate.min.js"></script>
<!-- validate.jsの日本語対応プラグイン -->
<script type="text/javascript" src="js/messages_ja.js"></script>
<!-- タッチ操作のライブラリ。 -->
<script src="js/jquery.finger.js"></script>
<!-- 画面操作の処理を記述したJSファイルを読み込む。 -->
<script type="text/javascript" src="js/controlPage.js"></script>
<!-- ダイアログ作成の処理を記述したJSファイルを読み込む。 -->
<script type="text/javascript" src="js/createDialog.js"></script>
<!-- 小規模のの処理を記述したJSファイルを読み込む。 -->
<script type="text/javascript" src="js/createLittleContent.js"></script>
<!-- ユーザのアクションに対応するイベントを定義したJSファイルを読み込む。 -->
<script type="text/javascript" src="js/controlAction.js"></script>
</head>
<body>
	<div id="container">
		<div class="main">
			<script>
			//ドキュメント配備後
			$(document).ready(function(){
				// dom要素を作るクラスをインスタンス化する
				//creator = new createTag();
				// パスワード変更画面のjsonを読み込む
				creator.getJsonFile('source/memberProfile.json');
				// 共通のパーツのJSONを取得する。
				// creator.getJsonFile('source/memberCommon.json');
				// パーツのテンプレートのDOMを取得する。
				creator.getDomFile('template/common.html');
				// パーツのテンプレートのDOMを取得する。
				creator.getDomFile('template/memberCommon.html');
				// 会員ページのjsonを読み込む
				creator.getDomFile('template/memberProfile.html');
				//ユーザ情報のテキストをDBから取得する
				creator.getJsonFile('php/GetJSONString.php', creator.json['memberHeader'], 'memberHeader');
				// 会員ページヘッダーを作る
				creator.outputTag('memberHeader');
				// バナー領域を作る
				creator.outputTag('userBanner');
				// サブヘッダーを作る
				creator.outputTag('subHeader');
				//会員番号をjsonに入れる
				creator.json.getUserInf.userId.value = creator.json.memberHeader.user_key.value;
				//会員の情報をDBから読み込む
				creator.getJsonFile('php/GetJSONString.php', creator.json['getUserInf'], 'getUserInf');
				// 会員情報を表示する領域を作る
				creator.outputTag('memberInfo');
				// 「氏名」概要領域を作る
				creator.outputTag('nameSummary', 'inputLabel', '.userInf');
				// 「氏名」テキストボックス領域を作る
				creator.outputTag('nameTextbox', 'inputArea', '.userInf');

				// 「カナ」概要領域を作る
				creator.outputTag('nameKanaSummary', 'inputLabel', '.userInf');
				// 「カナ」テキストボックス領域を作る
				creator.outputTag('nameKana', 'inputArea', '.userInf');

				// 「性別」概要領域を作る
				creator.outputTag('userSexSummary', 'inputLabel', '.userInf');
				// 「性別」セレクトボックス領域を作る
				creator.outputTag('userSex', 'selectboxArea', '.userInf');

				// 「生年月日」概要領域を作る
				creator.outputTag('birthDayDateSummary', 'inputLabel', '.userInf');
				// 「生年月日」セレクトボックス領域を作る
				creator.outputTag('birthDayDate', 'inputArea', '.userInf');

				// 「郵便番号」概要領域を作る
				creator.outputTag('zipCodeSummary', 'inputLabel', '.userInf');
				// 「郵便番号」テキストボックス領域を作る
				creator.outputTag('zipCode', 'inputArea', '.userInf');

				// 「住所」概要領域を作る
				creator.outputTag('addressSummary', 'inputLabel', '.userInf');
				// 「住所」テキストボックス領域を作る
				creator.outputTag('addressArea', 'inputTextArea', '.userInf');

				// 「メールアドレス」概要領域を作る
				creator.outputTag('mailAddressSummary', 'inputLabel', '.userInf');
				// 「メールアドレス」テキストボックス領域を作る
				creator.outputTag('mailAddress', 'inputArea', '.userInf');

				// 「電話番号」概要領域を作る
				creator.outputTag('telephoneSummary', 'inputLabel', '.userInf');
				// 「電話番号」テキストボックス領域を作る
				creator.outputTag('telephoneTextbox', 'inputArea', '.userInf');

				// 「緊急番号」概要領域を作る
				creator.outputTag('telephone2Summary', 'inputLabel', '.userInf');
				// 「緊急番号」テキストボックス領域を作る
				creator.outputTag('telephone2Textbox', 'inputArea', '.userInf');

				// 「メルマガ受信設定」概要領域を作る
				creator.outputTag('mailMagaSettingSummary', 'inputLabel', '.userInf');
				//
				creator.outputTag('mailMagaSetting', 'mailMagaSetting', '.userInf');

				// 更新ボタン領域を作る
				creator.outputTag('updateButton', 'updateButton', '.memberInfo');

				// パスワード変更リンクを作る
				creator.outputTag('passLinkArea', 'passLinkArea', '.memberInfo');
				// 生年月日のテキストボックスにフォーカスするとカレンダーを表示する
				clickCalendar('birthday_date');
				// ボタンの見た目をjqueryuiのものにする
				$('.updateButton').button();

				//テキストボックスなどのvalue属性にDBから読込んだ値を入れる
				setValueDBdata(creator.json['getUserInf']['memberInfoValue']);

				//入力したデータでDBを更新する
				setProfileUpdate();
			});
			</script>
		</div>
	</div>
</body>
</html>