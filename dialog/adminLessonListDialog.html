<div class="dialog">
<script>
	$('.dialog:last').off();
	//ダイアログのコンテンツを生成するためにcreateTagのインスタンスを生成する
	// var dialogClass.creator = new createLittleContents();
	var dialogClass = $('.dialog')[0].instance;	//ダイアログのクラスインスタンスを取得する
	var data = dialogClass.getArgumentDataObject();						//dataオブジェクトを取得する
	dialogClass.creator = dialogClass.dialogCreator;
	//管理者授業詳細一覧のjsonを取得する
	dialogClass.creator.getJsonFile('source/adminCommon.json');
	//管理者授業詳細のテンプレートを取得する
	dialogClass.creator.getDomFile('template/adminCommon.html');
	
	//ダイアログの中身の外枠を作る
	dialogClass.creator.outputTag('adminLessonListDialogContent', 'adminLessonListDialogContent', '.dialog');
	
	//dbに接続する前に日付をクエリの置換連想配列に挿入する
	dialogClass.creator.json.adminLessonDetailTable.lessonDate.value = data.lessonDate;
	//管理者授業詳細のデータをDBから取得してテーブルを作る準備をする
	dialogClass.creator.getJsonFile(URL_GET_JSON_ARRAY_PHP, dialogClass.creator.json['adminLessonDetailTable'], 'adminLessonDetailTable');
	
	//取り出した値が0でないときに授業一覧テーブルを表示する
	if(dialogClass.creator.json.adminLessonDetailTable.table.length != 0) {
		//管理者授業詳細一覧テーブルの外枠を作る
		dialogClass.creator.outputTag('adminLessonDetailTableOutsideArea', 'adminLessonDetailTableOutsideArea', '.adminLessonListDialogContent');
		//管理者授業詳細一覧テーブルを作る
		dialogClass.creator.outputTagTable('adminLessonDetailTable', 'adminLessonDetailTable', '.adminLessonDetailTableOutsideArea');
		//管理者授業詳細一覧テーブルを置換して行にクラスを付ける
		tableReplaceAndSetClass(ADMIN_LESSON_DETAIL_TABLE, ADMIN_LESSON_DETAIL_TABLE_REPLACE_FUNC, true, dialogClass.creator, ADMIN_LESSON_DETAIL_TABLE_RECORD)
		//レッスンのステータス領域を作る
		dialogClass.creator.outputTag('adminLessonDetailStatus', 'adminLessonDetailStatus', '.adminLessonListDialogContent');
		//授業詳細ダイアログを開く処理を行う
		dialogClass.creator.openAdminLessonDetailDialog();
	}
	//新規追加ボタンを追加する
	dialogClass.creator.outputTag('lessonAddButton', 'addButton', '.dialog');
	//ボタンの見た目をjqueryuiのものにして整える
	$('button').button();
	//新規作成ボタンがクリックされたら授業新規作成ダイアログを開く
	dialogClass.creator.openAdminNewLessonCreateDialog();
</script>
</div>
